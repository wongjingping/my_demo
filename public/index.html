<!DOCTYPE html>
<html ng-app="demoApp" lang="en">
<head>
	<meta charset="UTF-8">
	<title>SSCDA Demo Records</title>

	<!-- favicon -->
	<link rel="icon" href="/public/static/imgs/favicon.png" type="image/png">

	<!-- CSS from Bootstrap -->
	<link rel="stylesheet" type="text/css" href="/bower_components/bootstrap/dist/css/bootstrap.min.css">

	<!-- My Extra CSS styles -->
	<link rel="stylesheet" type="text/css" href="/public/static/styles/css/demos.css">

</head>
<body>

	<div class="container">
		<h1>SSCDA Demo Records</h1>
	</div>

	<div class="container" ng-controller="demoCtrl">


		<button type="button" class="btn" ng-click="openModal()">New Demo</button>

		<div class="container">
			<!-- Trigger the modal with a button -->
			<button type="button" class="btn btn-success" data-toggle="modal" data-target="#addModal" align="center">Add Demo</button>

			<!-- Modal Start -->
			<div class="modal fade in" id="addModal" role="dialog">
				<div class="modal-dialog">

					<!-- Modal content-->					
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal">&times;</button>
							<h3 class="modal-title">Add Example</h3>
						</div>
						<div class="modal-body">
							<table class="table">
								<tbody>
									<tr>
										<td>Use Case</td>
										<td><input class="form-control" ng-model="newdemo['UseCase']"></td>
									</tr>
									<tr>
										<td>Vertical</td>
										<td>
											<select class="form-control" ng-model="newdemo['Vertical']" ng-options="v for v in verticals"></select>
										</td>
									</tr>
									<tr>
										<td>Technology</td>
										<td><input class="form-control" ng-model="newdemo['Technology']"></td>
									</tr>
									<tr>
										<td>Creator</td>
										<td><input class="form-control" ng-model="newdemo['Creator']"></td>
									</tr>
									<tr>
										<td>Type of Analytics</td>
										<td>
											<div class="bootstrap-tagsinput" ng-model="newdemo['AnalyticTechniques']">
												<input type="text">
													<!-- <input class="form-control" ng-model="newdemo['AnalyticTechniques']"> -->
											</div>
										</td>
									</tr>
									<tr>
										<td>Data Source</td>
										<td><input class="form-control" ng-model="newdemo['DataSource']"></td>
									</tr>
									<tr>
										<td>Last Updated</td>
										<td class='input-group'>
											<input class="form-control" uib-datepicker-popup="dd-MMMM-yyyy" ng-model="newdemo['LastUpdated']" is-open="popupDate.opened" datepicker-options="dateOptions" ng-required="true" alt-input-formats="altInputFormats" />
											<span class="input-group-btn">
												<button type="button" class="btn" ng-click="openDate()">
													<i class="glyphicon glyphicon-calendar"></i>
												</button>
											</span>
										</td>
									</tr>
									<tr>
										<td>Location</td>
										<td><input class="form-control" ng-model="newdemo['Location']"></td>
									</tr>
									<tr>
										<td>Description</td>
										<td><input class="form-control" ng-model="newdemo['Description']"></td>
									</tr>
									<tr>
										<td>Tags</td>
										<td><input class="form-control" ng-model="newdemo['Tags']" data-role="tagsinput"></td>
									</tr>
								</tbody>

							</table>
						</div>
						<div class="modal-footer">
							<button class="btn btn-primary" data-dismiss="modal" ng-click="addDemo(newdemo)">Add</button>
							<button class="btn" data-dismiss="modal">Cancel</button>
						</div>
						
					</div>
				</div>
			</div>
			<!-- Modal End -->

		</div>

		<!-- Search Bar Start -->
		<div class="container">
			<div class="input-group">
				<span class="input-group-addon">
					<span class="glyphicon glyphicon-search"></span>
				</span>
				<input type="text" class="form-control" ng-model="search">
			</div>
		</div>
		<!-- Search Bar End -->
		
		<br>

		<!-- New List Group Design -->
		<div class="container">
			<ul class="list-group">
				<li class="list-group-item" ng-repeat="demo in demos | filter:search | orderBy:'LastUpdated':true">
					<div class="row">
						<div class="col-xs-10">
							<h4 class="use-case">{{demo['UseCase']}}</h4>
						</div>
						<div class="col-xs-2">
							<img src="static/imgs/delete.png" ng-click="removeDemo(demo)" height="30" width="30" align="right">
							&nbsp;
							<a data-toggle="modal" data-target="#editModal">
							<img src="static/imgs/edit.png" height="30" width="30" align="right">
							</a>
						</div>
					</div>
					<div class="customer">{{demo[['TargetCustomer']]}} 
						<br>
						<span class="label label-primary">{{demo['Vertical']}}</span>
						<span ng-repeat="technique in demo[['AnalyticTechniques']] track by $index">
							<span class="label label-default">{{technique}}</span>
						</span>
						<span ng-repeat="technology in demo[['Technology']] track by $index">
							<span class="label label-warning">{{technology}}</span>
						</span>
					</div>
					<br>
					<p class="card-text">
						By: <em>{{demo[['Creator']]}}</em>
						<br>
						<span ng-if="demo[['LastUpdated']]">
							Last Updated: {{demo[['LastUpdated']]}}
							<br>
						</span>
						<span ng-if="demo[['Location']]">
							Location: <a ng-href="{{demo[['Location']]}}">{{demo[['Location']]}}</a>
							<br>
						</span>
						<span ng-if="demo[['card-data']]">
							Data Source: <span class="card-data">{{demo[['DataSource']]}}</span>
						</span>
					</p>
					<p>{{demo[['Description']]}}</p>
					

					<!-- modal for editing entry -->
					<div class="modal fade in" id="editModal" role="dialog">
						<div class="modal-dialog">
						<div class="modal-content">
							<div class="modal-header">
								<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
								<h4 class="modal-title">Edit Entry</h4>
							</div>
							<div class="modal-body">
								<table class="table">
									<tbody>
										<tr>
											<td>Use Case</td>
											<td><input class="form-control" ng-model="demo['UseCase']"></td>
										</tr>
										<tr>
											<td>Vertical</td>
											<td>
												<select class="form-control" ng-model="demo['Vertical']" ng-options="v for v in verticals"></select>
											</td>
										</tr>
										<tr>
											<td>Technology</td>
											<td><input class="form-control" ng-model="demo['Technology']"></td>
										</tr>
										<tr>
											<td>Creator</td>
											<td><input class="form-control" ng-model="demo['Creator']"></td>
										</tr>
										<tr>
											<td>Type of Analytics</td>
											<td>
												<div class="bootstrap-tagsinput" ng-model="demo['AnalyticTechniques']">
													<input type="text">
														<!-- <input class="form-control" ng-model="demo['AnalyticTechniques']"> -->
												</div>
											</td>
										</tr>
										<tr>
											<td>Data Source</td>
											<td><input class="form-control" ng-model="demo['DataSource']"></td>
										</tr>
										<tr>
											<td>Last Updated</td>
											<td><input class="form-control" ng-model="demo['LastUpdated']"></td>
										</tr>
										<tr>
											<td>Location</td>
											<td><input class="form-control" ng-model="demo['Location']"></td>
										</tr>
										<tr>
											<td>Description</td>
											<td><input class="form-control" ng-model="demo['Description']"></td>
										</tr>
										<tr>
											<td>Tags</td>
											<td><input class="form-control" ng-model="demo['Tags']" data-role="tagsinput"></td>
										</tr>
									</tbody>

								</table>
							</div>
							<div class="modal-footer">
								<button class="btn btn-default" data-dismiss="modal" ng-click='refresh()'>Close</button>
								<button class="btn btn-primary" data-dismiss="modal" ng-click="editDemo(demo)">Save changes</button>
							</div>
						</div><!-- /.modal-content -->
					</div>
				</div>
				</li>
			</ul>
		</div>
	</div>

	<!-- load javascript libraries like JQuery, Angular -->
	<script src="/bower_components/jquery/dist/jquery.min.js"></script> 
	<script src="/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="/bower_components/angular/angular.min.js"></script>
	<script type="text/javascript" src="/bower_components/angular-bootstrap/ui-bootstrap-tpls.min.js"></script>
	
	<!-- custom plugins and controllers -->
	<script type="text/javascript" src="controllers/controller.js"></script>

</body>
</html>